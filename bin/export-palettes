#!/usr/bin/env ruby

ROOT = File.expand_path(File.join(__dir__, ".."))

require_relative File.join(ROOT, "lib/liero-palette")

pm = Liero::PaletteWithMaterials.load_defaults

pm.palette.make_unique!

File.open(File.join(ROOT, "palettes/full_unique.lpl"), "wb") do |io|
  pm.palette.write(io)
end

Liero::Material::TYPES.each do |type|
  palette = pm.filter_palette_by_material(type)

  File.open(File.join(ROOT, "palettes/#{type}.lpl"), "wb") do |io|
    palette.write(io)
  end
end
